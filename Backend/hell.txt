class Book(models.Model):
    bookSno = models.AutoField(primary_key=True)
    author = models.CharField(max_length=500)
    # bookName = models.CharField(max_length=800, default="")
    # numberOfChapters = models.IntegerField(default=0)
    bookPDF = models.FileField(upload_to="elibrary/books/PDF")
    def __str__(self):
        return self.author








from django import forms
from Elibrary.models import Book
class UploadFileForm(forms.ModelForm):
    class Meta:
        model = Book
        fields = ('author', 'bookPDF',)
        widgets = {
            "author": forms.TextInput(attrs={
                "class": "border-4 rounded-lg",
                "placeholder": "Author",
                "name": "author"
                }),
            "bookPDF": forms.FileInput(attrs={
                "class": "block my-2 mx-4",
                "name": "pdf"
                })
            }
        labels = {
            "author": "Name Of The Writer",
            "bookPDF": "Name Of The Writer",
        }








from django.shortcuts import render, redirect
from .forms import UploadFileForm
from .models import Book
# Create your views here.
def index(request):
    obj = Book.objects.get(author = "Hola")
    if request.method == 'POST':
        form = UploadFileForm(request.POST, request.FILES)
        if form.is_valid:
            form.save()
            return redirect('homeindex')
    else:
        form = UploadFileForm(instance=obj)
        context = {
            "form": form,
        }
    return render(request, 'lib/test.html', context)








from django.urls import path, include
from . import views

urlpatterns = [
    path('', views.index, name='elibraryIndex'),
]